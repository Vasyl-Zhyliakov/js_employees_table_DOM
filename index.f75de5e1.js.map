{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\n// sorting\nconst table = document.querySelector('table');\nconst headers = table.tHead.querySelectorAll('th');\nconst tableBody = table.querySelector('tbody');\n\nfunction getSalary(query) {\n  return +query.slice(1).replaceAll(',', '');\n}\n\nheaders.forEach((header, index) => {\n  header.addEventListener('click', () => {\n    const headerName = header.innerText;\n    const isAsc = header.dataset.order === 'asc';\n\n    const rows = [...tableBody.querySelectorAll('tr')];\n\n    headers.forEach((h) => {\n      if (h !== header) {\n        h.removeAttribute('data-order');\n      }\n    });\n\n    rows.sort((a, b) => {\n      const cellA = a.cells[index].innerText;\n      const cellB = b.cells[index].innerText;\n\n      switch (headerName) {\n        case 'Name':\n        case 'Position':\n        case 'Office':\n          return isAsc\n            ? cellB.localeCompare(cellA)\n            : cellA.localeCompare(cellB);\n\n        case 'Age':\n          return isAsc ? +cellB - cellA : +cellA - +cellB;\n\n        case 'Salary':\n          return isAsc\n            ? getSalary(cellB) - getSalary(cellA)\n            : getSalary(cellA) - getSalary(cellB);\n      }\n    });\n\n    header.dataset.order = isAsc ? 'desc' : 'asc';\n\n    rows.forEach((row) => tableBody.append(row));\n  });\n\n  // selecting row\n  let activeRow = null;\n\n  tableBody.addEventListener('click', (e) => {\n    const clickedRow = e.target.closest('tr');\n\n    if (!clickedRow) {\n      return;\n    }\n\n    if (activeRow) {\n      activeRow.classList.remove('active');\n    }\n\n    clickedRow.classList.add('active');\n    activeRow = clickedRow;\n  });\n});\n\n// addingForm\nconst body = document.querySelector('body');\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\nbody.append(form);\n\nfunction changeFirstLetter(string) {\n  return string.slice(0, 1).toLowerCase() + string.slice(1);\n}\n\nfunction createInput(inputName) {\n  const label = document.createElement('label');\n\n  label.textContent = `${inputName}:`;\n\n  const input = document.createElement('input');\n\n  input.name = changeFirstLetter(inputName);\n  input.required = true;\n  input.dataset.qa = changeFirstLetter(inputName);\n\n  switch (inputName) {\n    case 'Name':\n      input.type = 'text';\n      input.minLength = 4;\n      break;\n\n    case 'Position':\n    default:\n      break;\n\n    case 'Age':\n      input.type = 'number';\n      input.min = 18;\n      input.max = 90;\n      break;\n\n    case 'Salary':\n      input.type = 'number';\n      input.min = 0;\n      break;\n  }\n\n  label.append(input);\n\n  return label;\n}\n\nconst offices = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nfunction createSelect(selectName) {\n  const label = document.createElement('label');\n\n  label.textContent = `${selectName}:`;\n\n  const select = document.createElement('select');\n\n  select.name = `${changeFirstLetter(selectName)}s`;\n  select.required = true;\n  select.dataset.qa = changeFirstLetter(selectName);\n\n  offices.forEach((office) => {\n    const option = document.createElement('option');\n\n    option.textContent = office;\n    option.value = changeFirstLetter(office);\n    select.append(option);\n  });\n  label.append(select);\n\n  return label;\n}\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.textContent = 'Save to table';\n\nform.append(createInput('Name'));\nform.append(createInput('Position'));\nform.append(createSelect('Office'));\nform.append(createInput('Age'));\nform.append(createInput('Salary'));\nform.append(button);\n\n// adding new row\nfunction formatSalary(numb) {\n  const string = numb.toString();\n  let result = '';\n\n  if (string.length <= 3) {\n    return '$' + string;\n  }\n\n  let count = 0;\n\n  for (let i = string.length - 1; i >= 0; i--) {\n    count++;\n\n    if (count % 3 === 0 && i !== 0) {\n      result = ',' + string[i] + result;\n    } else {\n      result = string[i] + result;\n    }\n  }\n\n  return '$' + result;\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const newRow = document.createElement('tr');\n\n  formData.forEach((value, key) => {\n    const cell = document.createElement('td');\n\n    if (key === 'salary') {\n      cell.textContent = formatSalary(value);\n    } else {\n      cell.textContent = value;\n    }\n    newRow.append(cell);\n  });\n\n  tableBody.append(newRow);\n\n  form.reset();\n\n  const successMessage = document.createElement('div');\n\n  successMessage.dataset.qa = 'notification';\n  successMessage.className = 'notification success';\n  successMessage.textContent = 'Employee added succesfully';\n\n  document.body.appendChild(successMessage);\n\n  setTimeout(() => {\n    successMessage.remove();\n  }, 500);\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}